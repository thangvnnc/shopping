<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="./assets/css/jquery.loadingModal.min.css">
</head>
<body>

<div id="wrapper">
    <script src="./assets/js/core/jquery.min.js"></script>
    <script src="./assets/js/libs/jquery.loadingModal.min.js"></script>
    <script src="./assets/js/libs/bootstrap-notify.js"></script>
    <script src="./assets/js/material-dashboard.js?v=2.1.1"></script>
    <script src="assets/js/custom/utils-url.js"></script>
    <script src="./assets/js/custom/message.js"></script>
    <script>
        $('body').loadingModal({text: 'Loading...', backgroundColor:'#9c27b0'});
        var delay = function(ms){ return new Promise(function(r) { setTimeout(r, ms) }) };
        var time = 1000;
        delay(time).then(function () {
            AjaxReq({
                url: URL_API_USER_SESSION_STATE,
                success: function (data) {
                    if (data.code !== R.DEF.OK.code) {
                        Href(URL_HTML_LOGIN);
                        return;
                    }
                    Href(URL_HTML_HOME);
                },
                error: function (err) {
                    md.showBottomCenterMessage(err.message);
                }
            })
        })
    </script>
</div>
</body>
</html>
